{"ast":null,"code":"import React,{useEffect}from'react';import{useParams,useLocation}from'react-router-dom';import{Typography,CircularProgress,Grid,Divider}from'@material-ui/core';import{useDispatch,useSelector}from'react-redux';import Post from'../Posts/Post/Post';import{getPostsByCreator,getPostsBySearch}from'../../actions/posts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatorOrTag=function CreatorOrTag(){var _useParams=useParams(),name=_useParams.name;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.posts;}),posts=_useSelector.posts,isLoading=_useSelector.isLoading;var location=useLocation();useEffect(function(){if(location.pathname.startsWith('/tags')){dispatch(getPostsBySearch({tags:name}));}else{dispatch(getPostsByCreator(name));}},[]);if(!posts.length&&!isLoading)return'No posts';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",children:name}),/*#__PURE__*/_jsx(Divider,{style:{margin:'20px 0 50px 0'}}),isLoading?/*#__PURE__*/_jsx(CircularProgress,{}):/*#__PURE__*/_jsx(Grid,{container:true,alignItems:\"stretch\",spacing:3,children:posts===null||posts===void 0?void 0:posts.map(function(post){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:6,lg:3,children:/*#__PURE__*/_jsx(Post,{post:post})},post._id);})})]});};export default CreatorOrTag;","map":{"version":3,"names":["React","useEffect","useParams","useLocation","Typography","CircularProgress","Grid","Divider","useDispatch","useSelector","Post","getPostsByCreator","getPostsBySearch","CreatorOrTag","name","dispatch","state","posts","isLoading","location","pathname","startsWith","tags","length","margin","map","post","_id"],"sources":["C:/Users/philipslee/final panda/client/src/components/CreatorOrTag/CreatorOrTag.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport { Typography, CircularProgress, Grid, Divider } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport Post from '../Posts/Post/Post';\r\nimport { getPostsByCreator, getPostsBySearch } from '../../actions/posts';\r\n\r\nconst CreatorOrTag = () => {\r\n  const { name } = useParams();\r\n  const dispatch = useDispatch();\r\n  const { posts, isLoading } = useSelector((state) => state.posts);\r\n\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.startsWith('/tags')) {\r\n      dispatch(getPostsBySearch({ tags: name }));\r\n    } else {\r\n      dispatch(getPostsByCreator(name));\r\n    }\r\n  }, []);\r\n\r\n  if (!posts.length && !isLoading) return 'No posts';\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h2\">{name}</Typography>\r\n      <Divider style={{ margin: '20px 0 50px 0' }} />\r\n      {isLoading ? <CircularProgress /> : (\r\n        <Grid container alignItems=\"stretch\" spacing={3}>\r\n          {posts?.map((post) => (\r\n            <Grid key={post._id} item xs={12} sm={12} md={6} lg={3}>\r\n              <Post post={post} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatorOrTag;\r\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,UAAU,CAAEC,gBAAgB,CAAEC,IAAI,CAAEC,OAAO,KAAQ,mBAAmB,CAC/E,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,MAAOC,KAAI,KAAM,oBAAoB,CACrC,OAASC,iBAAiB,CAAEC,gBAAgB,KAAQ,qBAAqB,CAAC,wFAE1E,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAS,CACzB,eAAiBX,SAAS,EAAE,CAApBY,IAAI,YAAJA,IAAI,CACZ,GAAMC,SAAQ,CAAGP,WAAW,EAAE,CAC9B,iBAA6BC,WAAW,CAAC,SAACO,KAAK,QAAKA,MAAK,CAACC,KAAK,GAAC,CAAxDA,KAAK,cAALA,KAAK,CAAEC,SAAS,cAATA,SAAS,CAExB,GAAMC,SAAQ,CAAGhB,WAAW,EAAE,CAE9BF,SAAS,CAAC,UAAM,CACd,GAAIkB,QAAQ,CAACC,QAAQ,CAACC,UAAU,CAAC,OAAO,CAAC,CAAE,CACzCN,QAAQ,CAACH,gBAAgB,CAAC,CAAEU,IAAI,CAAER,IAAK,CAAC,CAAC,CAAC,CAC5C,CAAC,IAAM,CACLC,QAAQ,CAACJ,iBAAiB,CAACG,IAAI,CAAC,CAAC,CACnC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACG,KAAK,CAACM,MAAM,EAAI,CAACL,SAAS,CAAE,MAAO,UAAU,CAElD,mBACE,oCACE,KAAC,UAAU,EAAC,OAAO,CAAC,IAAI,UAAEJ,IAAI,EAAc,cAC5C,KAAC,OAAO,EAAC,KAAK,CAAE,CAAEU,MAAM,CAAE,eAAgB,CAAE,EAAG,CAC9CN,SAAS,cAAG,KAAC,gBAAgB,IAAG,cAC/B,KAAC,IAAI,EAAC,SAAS,MAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAE,CAAE,UAC7CD,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEQ,GAAG,CAAC,SAACC,IAAI,qBACf,KAAC,IAAI,EAAgB,IAAI,MAAC,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,CAAE,uBACrD,KAAC,IAAI,EAAC,IAAI,CAAEA,IAAK,EAAG,EADXA,IAAI,CAACC,GAAG,CAEZ,EACR,CAAC,EAEL,GACG,CAEV,CAAC,CAED,cAAed,aAAY"},"metadata":{},"sourceType":"module"}